<!DOCTYPE html>
<html>

<!--
  The code is hosted live at: 
  Code inspiration: http://bl.ocks.org/weiglemc/6185069
-->

<meta charset="utf-8">
<style>
body {
  font: 11px sans-serif;
}
.axis path,
.axis line {
  fill: none;
  stroke: #000;
  shape-rendering: crispEdges;
}
.dot {
  stroke: #000;
}
.tooltip {
  position: absolute;
  width: 200px;
  height: 28px;
  pointer-events: none;
}
</style>

<body>
<table id="bat"></table>
<div id="plot"></div>

<script src="https://d3js.org/d3.v3.min.js"></script>

<script>
/**
 * 1. Using Javascript/D3, create 2 arrays of random, count data within the domain (1-10). Sample size of each array should be 10.
 */
	// 1. create 2 arrays with 10 instances of random numbers 1-10
	var x_axis = Array.from({length: 10}, () => Math.floor(Math.random() * 10 +1));
	var y_axis = Array.from({length: 10}, () => Math.floor(Math.random() * 10 +1));
/**
 * 2. Calculate mean, median, mode, and standard deviation of each array and print them on the html with formatting.
 */
// returns the mode of a data set
function mode(data)
{
    var modeMap = []
    var max = data[0]
    var maxCount = 1
    for(var i = 0; i < data.length; i++)
    {
        var d = data[i]
        if(modeMap[d] == null)
        {
            modeMap[d] = 1
        }
        else
        {
            modeMap[d]++
        }
        if(modeMap[d] > maxCount)
        {
            max = d
            maxCount = modeMap[d]
        }
    }
    return max
}

xdata = [x_axis, d3.mean(x_axis), d3.median(x_axis), mode(x_axis), d3.deviation(x_axis)];
ydata = [y_axis, d3.mean(y_axis), d3.median(y_axis), mode(y_axis), d3.deviation(y_axis)];
cols = ["Arrays", "Mean", "Median", "Mode","Standard Deviation"];
// displays required data
for(var i = 0; i < cols.length; i++)
{
    var row = d3.select("#bat").append("tr")
    row.append("th").text(cols[i])
    row.append("td").text(xdata[i])
    row.append("td").text(ydata[i])
    console.log(cols[i])
    console.log(xdata[i])
    console.log(ydata[i])
}
</script>

</body>

</html>
