<!DOCTYPE html>
<html>

		<!-- 
			Nathan Lang
			Intro Tech Skills Demo
			link: https://nathanlang14.github.io/TechSkillsDemo/
		-->
		
<meta charset="utf-8">
<style>
body {
  font: 14px sans-serif;
}
.axis path,
.axis line {
  fill: none;
  stroke: #000;
  shape-rendering: crispEdges;
}
.dot {
  stroke: #000;
}
.tooltip {
  position: absolute;
  width: 200px;
  height: 28px;
  pointer-events: none;
}
</style>
<script src="https://d3js.org/d3.v3.min.js"></script>

<body>
<script>
	// add header
	var header = d3.select('body').append('div')
	header.append('h2').text(function(d) { return "Tech Skills Demo:"; });
</script>
<table id="bat"></table>
<div id="plot"></div>



<script>

	// 1. create 2 arrays with 10 instances of random numbers 1-10
	var x_axis = Array.from({length: 10}, () => Math.floor(Math.random() * 10 +1));
	var y_axis = Array.from({length: 10}, () => Math.floor(Math.random() * 10 +1));

	// 2. calculate the mean, median, mode, and st. dev.
	// reference: https://codereview.stackexchange.com/questions/68315/finding-the-mode-of-an-array
	function mode(arr) {
		var modeMap = [];
		var max = arr[0];
		var maxCount = 1;
		for(var i = 0; i < arr.length; i++)
		{
			var a = arr[i];
			if(modeMap[a] == null)
			{
				modeMap[a] = 1;
			}
			else
			{
				modeMap[a]++;
			}
			if(modeMap[a] > maxCount)
			{
				max = a;
				maxCount = modeMap[a];
			}
		}
		return max;
	}

	// calculates other stats and stores in arrays
	xdata = [x_axis, d3.mean(x_axis), d3.median(x_axis), mode(x_axis), d3.deviation(x_axis)];
	ydata = [y_axis, d3.mean(y_axis), d3.median(y_axis), mode(y_axis), d3.deviation(y_axis)];
	cols = ["Array", "Mean", "Median", "Mode","Standard Deviation"];
	
	// displays stat arrays
	// row by row shows title and then the data for each array
	for(var i = 0; i < cols.length; i++)
	{
		var row = d3.select("#bat").append("tr")
		// make names bold as a header
		row.append("th").text(cols[i])
		
		// fill in columns with data 
		row.append("td").text(xdata[i])
		row.append("td").text(ydata[i])
		//console.log(cols[i])
		//console.log(xdata[i])
		//console.log(ydata[i])
	}
</script>

</body>

</html>
